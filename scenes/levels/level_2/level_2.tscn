[gd_scene load_steps=17 format=3 uid="uid://dh7gsxed1hkcl"]

[ext_resource type="Script" uid="uid://ddwklxdbqbpbd" path="res://scenes/levels/level_2/level_2.gd" id="1_tf87b"]
[ext_resource type="AudioStream" uid="uid://d20qt0xaeyc5s" path="res://audio/ingame_music_without_lyre.mp3" id="2_0xq57"]
[ext_resource type="MeshLibrary" uid="uid://c2y2edkitxr22" path="res://graphics/level_building_blocks/meshlib.tres" id="3_x6exq"]
[ext_resource type="Script" uid="uid://crawhy8swiqjc" path="res://scenes/entities/characters/characters.gd" id="4_ugaie"]
[ext_resource type="PackedScene" uid="uid://d0k1u5nvwlxh7" path="res://scenes/entities/orpheus/orpheus.tscn" id="5_iup6o"]
[ext_resource type="PackedScene" uid="uid://dsg4uckeyjsey" path="res://scenes/entities/eurydice/eurydice.tscn" id="6_ses5c"]
[ext_resource type="PackedScene" uid="uid://owsmcq5li7i0" path="res://scenes/user_interface/game_over/game_over.tscn" id="7_up0v7"]
[ext_resource type="PackedScene" uid="uid://btcjpjyatk44o" path="res://scenes/user_interface/level_finished/level_finished.tscn" id="8_4xau6"]
[ext_resource type="Shader" uid="uid://u2osdbsphxm5" path="res://shaders/prototype.gdshader" id="9_0xq57"]
[ext_resource type="PackedScene" uid="uid://bivo5higswnar" path="res://scenes/levels/level_3/level_3.tscn" id="10_x6exq"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_1ks5c"]
sky_top_color = Color(0.937343, 0.82717, 0.71197, 1)
sky_horizon_color = Color(0.175814, 0.208016, 0.354428, 1)
sky_curve = 0.113679
ground_bottom_color = Color(0.176471, 0.207843, 0.352941, 1)
ground_horizon_color = Color(0.176471, 0.207843, 0.352941, 1)

[sub_resource type="Sky" id="Sky_1bvp3"]
sky_material = SubResource("ProceduralSkyMaterial_1ks5c")

[sub_resource type="Environment" id="Environment_k722v"]
background_mode = 2
background_color = Color(0.670804, 0.557878, 0.508364, 1)
sky = SubResource("Sky_1bvp3")
fog_sun_scatter = 0.8

[sub_resource type="ShaderMaterial" id="ShaderMaterial_6761a"]
render_priority = 0
shader = ExtResource("9_0xq57")
shader_parameter/world_uv = false
shader_parameter/object_uv = false
shader_parameter/object_uv_scale = Vector2(1, 1)
shader_parameter/preset_color = 5
shader_parameter/base_color = Color(0.0646965, 0.0646965, 0.0646965, 1)
shader_parameter/metalic = 0.0
shader_parameter/roughness = 1.0
shader_parameter/grid_scale = 5.0
shader_parameter/grid_width = 0.01
shader_parameter/grid_color = Color(0.8, 0.8, 0.8, 1)
shader_parameter/inside_scale = 10.0
shader_parameter/inside_width = 0.01
shader_parameter/inside_color = Color(0.8, 0.8, 0.8, 0.8)
shader_parameter/checkered = true
shader_parameter/sub_checkered_grid = true
shader_parameter/checkered_color = Color(0.321728, 0.321728, 0.321728, 1)
shader_parameter/checkered_blend_color = 0.66
shader_parameter/use_inside_uv = false
shader_parameter/use_albedo_color = false
shader_parameter/albedo_alpha = 0.5

[sub_resource type="BoxMesh" id="BoxMesh_x6exq"]
material = SubResource("ShaderMaterial_6761a")
size = Vector3(3, 0.5, 2.5)

[sub_resource type="BoxShape3D" id="BoxShape3D_iup6o"]
size = Vector3(3, 0.5, 2.5)

[node name="Level2" type="Node3D" node_paths=PackedStringArray("game_over_scene", "level_finished_scene", "level_finish", "level_finish_marker", "level_music")]
script = ExtResource("1_tf87b")
game_over_scene = NodePath("GameOver")
level_finished_scene = NodePath("LevelFinished")
level_finish = NodePath("FinishZone")
level_finish_marker = NodePath("FinishZone/FinishZone/Marker3D")
level_music = NodePath("LevelMusic")

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 7.43801, 39.0979)
fov = 25.0
size = 16.495

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_k722v")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 18.4515, 0)
light_color = Color(0.56953, 0.606005, 0.756581, 1)

[node name="LevelMusic" type="AudioStreamPlayer" parent="."]
stream = ExtResource("2_0xq57")

[node name="Characters" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.03057, 1.99675, 1.37707)
script = ExtResource("4_ugaie")

[node name="Orpheus" parent="Characters" node_paths=PackedStringArray("level") instance=ExtResource("5_iup6o")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.15225, 0.5, -0.941963)
level = NodePath("../..")
jump_distance = 3.0

[node name="Eurydice" parent="Characters" instance=ExtResource("6_ses5c")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.705197, 0.609505, -2.34757)
jump_distance = 3.0

[node name="Floor" type="GridMap" parent="."]
mesh_library = ExtResource("3_x6exq")
cell_size = Vector3(1, 1, 1)
collision_layer = 12
collision_mask = 0
data = {
"cells": PackedInt32Array(65533, 65535, 1376258, 1, 1, 1376258, 0, 1, 1376258, 65535, 1, 1376258, 65533, 1, 1376258, 65534, 1, 1376258, 65534, 0, 1376258, 65534, 65535, 1376258, 65535, 65535, 1376258, 0, 65535, 1376258, 1, 65535, 1376258, 2, 65535, 1376258, 3, 65535, 1376258, 4, 0, 1376258, 3, 1, 1376258, 2, 1, 1376258, 0, 0, 1376258, 65535, 0, 1376258, 65533, 0, 1376258, 1, 0, 1376258, 2, 0, 1376258, 3, 0, 1376258, 5, 0, 1376258, 4, 65535, 1376258, 5, 65535, 1376258, 6, 65535, 1376258, 7, 65535, 1376258, 8, 65535, 1376258, 9, 65535, 1376258, 4, 1, 1376258, 5, 1, 1376258, 6, 1, 1376258, 7, 1, 1376258, 6, 0, 1376258, 7, 0, 1376258, 8, 0, 1376258, 9, 0, 1376258, 8, 1, 1376258, 9, 1, 1376258, 10, 1, 1376258, 65540, 65534, 1376258, 131069, 65534, 1376258, 131070, 65534, 1376258, 131071, 65534, 1376258, 65536, 65534, 1376258, 65537, 65534, 1376258, 65538, 65534, 1376258, 65539, 65534, 1376258, 65541, 65534, 1376258, 131068, 65534, 1376258, 65532, 65535, 1376258, 65532, 0, 1376258, 65532, 1, 1376258, 65531, 1, 1376258, 65531, 0, 1376258, 65531, 65535, 1376258, 65530, 65535, 1376258, 65530, 0, 1376258, 65530, 1, 1376258, 65529, 1, 1376258, 65528, 1, 1376258, 65527, 1, 1376258, 65527, 0, 1376258, 65527, 65535, 1376258, 65529, 65535, 1376258, 65529, 0, 1376258, 65528, 65535, 1376258, 65528, 0, 1376258, 65520, 65535, 1376258, 65520, 0, 1376258, 65520, 1, 1376258, 65521, 1, 1376258, 65522, 1, 1376258, 65523, 1, 1376258, 65524, 1, 1376258, 65525, 1, 1376258, 65526, 1, 1376258, 65526, 0, 1376258, 65526, 65535, 1376258, 65525, 65535, 1376258, 65524, 65535, 1376258, 65523, 65535, 1376258, 65522, 65535, 1376258, 65521, 65535, 1376258, 65521, 0, 1376258, 65522, 0, 1376258, 65523, 0, 1376258, 65524, 0, 1376258, 65525, 0, 1376258, 11, 1, 1376258, 11, 0, 1376258, 11, 65535, 1376258, 12, 65535, 1376258, 12, 0, 1376258, 12, 1, 1376258, 13, 1, 1376258, 13, 0, 1376258, 13, 65535, 1376258, 14, 65535, 1376258, 14, 0, 1376258, 14, 1, 1376258, 10, 65535, 1376258, 10, 0, 1376258, 65542, 65534, 1376258, 65543, 65534, 1376258, 65544, 65534, 1376258, 65545, 65534, 1376258, 65546, 65534, 1376258, 65547, 65534, 1376258, 65548, 65534, 1376258, 65549, 65534, 1376258, 65550, 65534, 1376258, 131067, 65534, 1376258, 131066, 65534, 1376258, 131065, 65534, 1376258, 131064, 65534, 1376258, 131063, 65534, 1376258, 131062, 65534, 1376258, 131061, 65534, 1376258, 131060, 65534, 1376258, 131059, 65534, 1376258, 131058, 65534, 1376258, 131057, 65534, 1376258, 131056, 65534, 1376258, 131056, 65535, 1376258, 131056, 0, 1376258, 131056, 1, 1376258, 65550, 65535, 1376258, 65550, 0, 1376258, 65550, 1, 1376258, 131086, 65535, 1376258, 131086, 0, 1376258, 131086, 1, 1376258, 196592, 65535, 1376258, 196592, 0, 1376258, 196592, 1, 1376258, 262128, 65535, 1376258, 262128, 0, 1376258, 262128, 1, 1376258, 196622, 65535, 1376258, 196622, 0, 1376258, 196622, 1, 1376258, 262158, 65535, 1376258, 262158, 0, 1376258, 262158, 1, 1376258, 327664, 65535, 1376258, 327664, 0, 1376258, 327664, 1, 1376258, 393200, 65535, 1376258, 393200, 0, 1376258, 393200, 1, 1376258, 327694, 65535, 1376258, 327694, 0, 1376258, 327694, 1, 1376258, 393230, 65535, 1376258, 393230, 0, 1376258, 393230, 1, 1376258, 458736, 65535, 1376258, 458736, 0, 1376258, 458736, 1, 1376258, 524272, 65535, 1376258, 524272, 0, 1376258, 524272, 1, 1376258, 458766, 65535, 1376258, 458766, 0, 1376258, 458766, 1, 1376258, 589808, 65535, 1376258, 589808, 0, 1376258, 589808, 1, 1376258, 524302, 65535, 1376258, 524302, 0, 1376258, 524302, 1, 1376258, 655344, 65535, 1376258, 655344, 0, 1376258, 655344, 1, 1376258, 589838, 65535, 1376258, 589838, 0, 1376258, 589838, 1, 1376258, 655345, 65535, 2, 655345, 0, 2, 655345, 1, 2, 655346, 65535, 2, 655346, 0, 2, 655346, 1, 2, 655347, 65535, 2, 655347, 0, 2, 655347, 1, 2, 655348, 65535, 2, 655348, 0, 2, 655348, 1, 2, 655349, 65535, 2, 655349, 0, 2, 655349, 1, 2, 655350, 65535, 2, 655350, 0, 2, 655350, 1, 2, 655351, 65535, 2, 655351, 0, 2, 655351, 1, 2, 655352, 65535, 2, 655352, 0, 2, 655352, 1, 2, 655353, 65535, 2, 655353, 0, 2, 655353, 1, 2, 655354, 65535, 2, 655354, 0, 2, 655354, 1, 2, 655355, 65535, 2, 655355, 0, 2, 655355, 1, 2, 655356, 65535, 2, 655356, 0, 2, 655356, 1, 2, 655357, 65535, 2, 655357, 0, 2, 655357, 1, 2, 655358, 65535, 2, 655358, 0, 2, 655358, 1, 2, 655359, 65535, 2, 655359, 0, 2, 655359, 1, 2, 589824, 65535, 2, 589824, 0, 2, 589824, 1, 2, 589825, 65535, 2, 589825, 0, 2, 589825, 1, 2, 589826, 65535, 2, 589826, 0, 2, 589826, 1, 2, 589827, 65535, 2, 589827, 0, 2, 589827, 1, 2, 589828, 65535, 2, 589828, 0, 2, 589828, 1, 2, 589829, 65535, 2, 589829, 0, 2, 589829, 1, 2, 589830, 65535, 2, 589830, 0, 2, 589830, 1, 2, 589831, 65535, 2, 589831, 0, 2, 589831, 1, 2, 589832, 65535, 2, 589832, 0, 2, 589832, 1, 2, 589833, 65535, 2, 589833, 0, 2, 589833, 1, 2, 589834, 65535, 2, 589834, 0, 2, 589834, 1, 2, 589835, 65535, 2, 589835, 0, 2, 589835, 1, 2, 589836, 65535, 2, 589836, 0, 2, 589836, 1, 2, 589837, 65535, 2, 589837, 0, 2, 589837, 1, 2)
}
metadata/_editor_floor_ = Vector3(0, 9, 0)

[node name="FinishZone" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10.4842, 1.25, 0.511613)
collision_layer = 3
collision_mask = 3

[node name="FinishZone" type="CSGMesh3D" parent="FinishZone"]
mesh = SubResource("BoxMesh_x6exq")

[node name="Marker3D" type="Marker3D" parent="FinishZone/FinishZone"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.239032, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="FinishZone"]
shape = SubResource("BoxShape3D_iup6o")

[node name="EurydiceObstacle" type="GridMap" parent="."]
mesh_library = ExtResource("3_x6exq")
cell_size = Vector3(1, 1, 1)
collision_layer = 10
collision_mask = 0
data = {
"cells": PackedInt32Array(262147, 65535, 1376256, 262147, 0, 1376256, 262147, 1, 1376256, 262148, 65535, 1376256, 262148, 0, 1376256, 262148, 1, 1376256, 262149, 65535, 1376256, 262149, 0, 1376256, 262149, 1, 1376256, 262150, 65535, 1376256, 262150, 0, 1376256, 262150, 1, 1376256, 262151, 65535, 1376256, 262151, 0, 1376256, 262151, 1, 1376256, 262152, 65535, 1376256, 262152, 0, 1376256, 262152, 1, 1376256, 262153, 65535, 1376256, 262153, 0, 1376256, 262153, 1, 1376256, 262154, 65535, 1376256, 262154, 0, 1376256, 262154, 1, 1376256, 262155, 65535, 1376256, 262155, 0, 1376256, 262155, 1, 1376256)
}
metadata/_editor_floor_ = Vector3(0, 1, 0)

[node name="GameOver" parent="." instance=ExtResource("7_up0v7")]
visible = false

[node name="LevelFinished" parent="." instance=ExtResource("8_4xau6")]
visible = false

[node name="NextLevel" parent="LevelFinished/CenterContainer/VSplitContainer/ButtonsContainer" index="0"]
next_level_scene = ExtResource("10_x6exq")

[connection signal="body_entered" from="FinishZone" to="." method="_on_finish_zone_body_entered"]

[editable path="Characters/Eurydice"]
[editable path="Characters/Eurydice/EurydiceInteractor"]
[editable path="LevelFinished"]
